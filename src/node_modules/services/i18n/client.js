import { getCookie } from './cookie';
import { cookieName, defaultLocale } from './settings';
import { registerMessageLoaders } from './registration';
import { getLocaleFromPathname, init } from 'svelte-i18n';

registerMessageLoaders();

export function i18nClient() {
	init({
        fallbackLocale: defaultLocale,
        initialLocale: getCookie(cookieName) || getLocaleFromPathname(/^\/([^\/]*).*$/)
    });
}